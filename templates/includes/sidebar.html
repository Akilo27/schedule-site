{% load static socialaccount %}

{% block extra_headers %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

<div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark" style="width: 280px; height: 100vh;">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <svg class="bi me-2" width="40" height="32">
            <use xlink:href="#bootstrap"></use>
        </svg>
        <span class="fs-4" style="font-size: 20px; margin-right: 35px;">Администрирование</span>
    </a>
    <hr style="color: white;"/>
    <div class="dropdown" style="margin-left: 10px;">
        <a href="{% url 'profile_settings' %}"
           class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1"
           data-bs-toggle="dropdown" aria-expanded="false">
            {% if request.user.is_authenticated %}
            <img src="{{ user.get_avatar }}" alt="" width="32" height="32" class="rounded-circle me-2"
                 style="margin-right:10px;">
            <strong>{{ user.username }}</strong>
            {% else %}
            <img src="https://e7.pngegg.com/pngimages/109/994/png-clipart-teacher-student-college-school-education-avatars-child-face.png"
                 alt="" width="32" height="32" class="rounded-circle me-2"
                 style="margin-right:10px;">
            <strong>Гость</strong>
            {% endif %}

        </a>
        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
            {% if not request.user.is_authenticated %}
            <li><a class="dropdown-item" href="{% url 'account_login' %}">Авторизация</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
            {% endif %}
            <li><a class="dropdown-item" href="{% url 'profile_settings' %}">Настройки</a></li>
        </ul>
    </div>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
            <a href="{% url 'schedule' %}" class="nav-link active" aria-current="page">
                <svg class="bi me-2" width="16" height="16">
                    <use xlink:href="#home"></use>
                </svg>
                Расписания
            </a>
        </li>
        <li>
            <a href="{% url 'profile_settings' %}" class="nav-link text-white">
                <svg class="bi me-2" width="16" height="16">
                    <use xlink:href="#speedometer2"></use>
                </svg>
                Настройки пользователя
            </a>
        </li>
    </ul>
    <hr>
    <div class="text-center">
        <a href="{% url 'account_logout' %}">
            <button class="btn btn-danger">Выйти с аккаунта</button>
        </a>
    </div>
</div>
